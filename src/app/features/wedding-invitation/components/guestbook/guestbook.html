<div class="guestbook-container">

  <div class="gb-form-card">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <input type="text" formControlName="name" placeholder="Nama Anda" class="form-input">
      </div>
      <div class="form-group">
        <textarea formControlName="message" placeholder="Tulis ucapan & doa..." rows="3" class="form-input"></textarea>
      </div>
      <button type="submit" class="btn-submit" [disabled]="form.invalid || isSubmitting">
        @if (isSubmitting) {
          <span>Mengirim...</span>
        } @else {
          <span>Kirim Ucapan</span>
        }
      </button>
    </form>
  </div>

  <div class="gb-list">
    @if (comments.length === 0) {
      <div class="empty-state">
        <p>Belum ada ucapan. Jadilah yang pertama mengirim doa! âœ¨</p>
      </div>
    } @else {
      <div class="comments-wrapper">
        @for (item of comments; track item.id) {
          <div class="comment-item">
            <div class="avatar">
              {{ item.name.charAt(0) | uppercase }}
            </div>
            <div class="content">
              <div class="header">
                <span class="name">{{ item.name }}</span>
                <span class="date">{{ item.created_at | date:'mediumDate' }}</span>
              </div>
              <p class="message">{{ item.message }}</p>
            </div>
          </div>
        }
      </div>
    }
  </div>

</div>
